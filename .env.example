# =============================================================================
# VaultGuard — Environment Variables
# =============================================================================
# Copy this file to .env and adjust values for your local environment.
#
#   cp .env.example .env
#
# IMPORTANT: Never commit .env to version control. It is already in .gitignore.
# =============================================================================

# -----------------------------------------------------------------------------
# MySQL 8.0
# -----------------------------------------------------------------------------
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_DATABASE=vaultguard
MYSQL_USER=vaultguard
MYSQL_PASSWORD=vaultguard_secret
MYSQL_ROOT_PASSWORD=vaultguard_root

# Connection string used by Go services (golang-migrate, sqlc, etc.)
# Format: mysql://user:password@tcp(host:port)/database?parseTime=true
DATABASE_URL=mysql://vaultguard:vaultguard_secret@tcp(localhost:3306)/vaultguard?parseTime=true

# -----------------------------------------------------------------------------
# Redis 7
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=vaultguard_redis

# Connection string used by Go services
REDIS_URL=redis://:vaultguard_redis@localhost:6379/0

# -----------------------------------------------------------------------------
# MinIO (S3-compatible object storage)
# -----------------------------------------------------------------------------
MINIO_ENDPOINT=localhost:9000
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ROOT_USER=vaultguard_minio
MINIO_ROOT_PASSWORD=vaultguard_minio_secret
MINIO_BUCKET=vaultguard-attachments
MINIO_USE_SSL=false

# -----------------------------------------------------------------------------
# Meilisearch
# -----------------------------------------------------------------------------
MEILI_HOST=http://localhost:7700
MEILI_PORT=7700
MEILI_MASTER_KEY=vaultguard_meili_master_key

# -----------------------------------------------------------------------------
# Auth Service
# -----------------------------------------------------------------------------
AUTH_SERVICE_PORT=8081

# JWT signing key pair (RS256). Generate with:
#   openssl genrsa -out jwt_private.pem 2048
#   openssl rsa -in jwt_private.pem -pubout -out jwt_public.pem
JWT_PRIVATE_KEY_PATH=./keys/jwt_private.pem
JWT_PUBLIC_KEY_PATH=./keys/jwt_public.pem

# Access token lifetime in minutes
JWT_ACCESS_TOKEN_TTL=15

# Refresh token lifetime in days
JWT_REFRESH_TOKEN_TTL=7

# -----------------------------------------------------------------------------
# Vault Service
# -----------------------------------------------------------------------------
VAULT_SERVICE_PORT=8082

# -----------------------------------------------------------------------------
# Org Service
# -----------------------------------------------------------------------------
ORG_SERVICE_PORT=8083

# -----------------------------------------------------------------------------
# Audit Service
# -----------------------------------------------------------------------------
AUDIT_SERVICE_PORT=8084

# -----------------------------------------------------------------------------
# API Gateway
# -----------------------------------------------------------------------------
GATEWAY_PORT=443
GATEWAY_HTTP_PORT=80

# -----------------------------------------------------------------------------
# General / Application
# -----------------------------------------------------------------------------
# Environment: development | staging | production
APP_ENV=development

# Log level: debug | info | warn | error
LOG_LEVEL=debug

# CORS allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# Encryption / KDF defaults (Argon2id — NIST SP 800-132 compliant)
KDF_MEMORY=65536
KDF_ITERATIONS=3
KDF_PARALLELISM=4
