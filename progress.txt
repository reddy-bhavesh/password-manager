---
[INFRA-001] — Initialize monorepo with Turborepo
Date: 2026-02-20
What was done:
- Created Turborepo monorepo scaffolding at the repository root.
- Added root workspace configuration and stub package scripts for backend, web, and extension workspaces.
- Added repository baseline config files (.editorconfig and .gitignore).
- Marked INFRA-001 as passed in prd.json.
Key decisions / gotchas:
- Used minimal stub build/lint/test scripts per workspace so turbo pipelines execute before full app scaffolding.
- Kept backend as a placeholder workspace package for Turborepo orchestration; Python service setup is deferred to INFRA-003.
Files created/modified: package.json, turbo.json, .editorconfig, .gitignore, packages/backend/package.json, packages/web/package.json, packages/extension/package.json, prd.json, progress.txt
---
---
[INFRA-002] â€” Docker Compose dev environment
Date: 2026-02-20
What was done:
- Added `docker-compose.dev.yml` with MySQL 8.0, MinIO, and Redis services for local development.
- Added health checks for MySQL (`mysqladmin ping`), MinIO (`/minio/health/live`), and Redis (`redis-cli ping`).
- Added `.env.example` documenting all environment variables consumed by `docker-compose.dev.yml`.
- Marked story INFRA-002 as passed in `prd.json`.
Key decisions / gotchas:
- Added dedicated MySQL health check credentials (`MYSQL_HEALTHCHECK_USER`/`MYSQL_HEALTHCHECK_PASSWORD`) so health checks are explicit and configurable.
- Pinned MinIO image to a dated release tag for deterministic local environments.
Files created/modified: docker-compose.dev.yml, .env.example, prd.json, progress.txt
---
---
[INFRA-003] — FastAPI backend skeleton with SQLAlchemy async + Alembic
Date: 2026-02-20
What was done:
- Added a Python backend project scaffold in `packages/backend` with pinned dependencies in `pyproject.toml`.
- Implemented `packages/backend/app/main.py` with FastAPI app bootstrap and a `GET /health` endpoint returning `{"status":"ok"}`.
- Added environment-driven settings via `pydantic-settings` and async SQLAlchemy engine/session wiring.
- Configured Alembic for async migrations (`alembic.ini`, async `alembic/env.py`) and added a baseline revision file.
- Marked `INFRA-003` as passed in `prd.json`.
Key decisions / gotchas:
- Kept the first Alembic revision as a no-op baseline so `alembic upgrade head` can initialize cleanly before schema stories (`DB-*`) introduce tables.
- Read MySQL connection values from environment to align with the existing Docker dev stack variables from `.env.example`.
Files created/modified: packages/backend/pyproject.toml, packages/backend/app/__init__.py, packages/backend/app/main.py, packages/backend/app/core/__init__.py, packages/backend/app/core/settings.py, packages/backend/app/db/__init__.py, packages/backend/app/db/base.py, packages/backend/app/db/session.py, packages/backend/alembic.ini, packages/backend/alembic/env.py, packages/backend/alembic/script.py.mako, packages/backend/alembic/versions/0001_backend_skeleton.py, prd.json, progress.txt
---
