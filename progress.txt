==============================================================================
VaultGuard — Enterprise Password Manager — Development Progress
==============================================================================

---
INFRA-001 — Initialize monorepo with Turborepo
Date: 2026-02-20
What was done:
- Created root package.json with npm workspaces (apps/*, services/*, packages/*)
- Created turbo.json with build, dev, lint, and test task pipelines
- Scaffolded directory structure: apps/web, apps/extension, services/auth, services/vault, services/org, services/audit, packages/crypto, packages/shared-types
- Created placeholder package.json files in each workspace so Turborepo discovers them
- Created comprehensive .gitignore (Node, Go, Docker, IDE, OS files)
- Installed turbo as root devDependency
- Verified `npx turbo run build` completes successfully (8/8 tasks pass)
Key decisions / gotchas:
- Used manual scaffolding instead of `npx create-turbo` since the project directory already contained files (prd.json, PDR.md); create-turbo refuses to init in a non-empty directory
- Go services (auth, vault, org, audit) have minimal package.json files with echo-based build/lint/test scripts so Turborepo can orchestrate them; actual Go tooling is set up in later stories (INFRA-003, etc.)
- Turbo v2 uses "tasks" key (not "pipeline") in turbo.json — used the latest schema
- packages/crypto and packages/shared-types have main/types fields set to dist/ anticipating TypeScript compilation in later stories
Files created/modified:
- package.json (root)
- turbo.json
- .gitignore
- apps/web/package.json
- apps/extension/package.json
- services/auth/package.json
- services/vault/package.json
- services/org/package.json
- services/audit/package.json
- packages/crypto/package.json
- packages/shared-types/package.json
---

---
INFRA-002 — Docker Compose dev environment
Date: 2026-02-20
What was done:
- Created docker-compose.dev.yml with four services: MySQL 8.0, Redis 7 (alpine), MinIO (latest), Meilisearch v1.6
- Each service has a healthcheck with interval/timeout/retries/start_period configured
- MySQL configured with utf8mb4, 200 max connections, 256MB InnoDB buffer pool, native auth plugin
- Redis configured with password auth, 128MB max memory, LRU eviction, AOF persistence
- MinIO configured with API port 9000 and console port 9001
- Meilisearch configured with master key auth and analytics disabled
- All services use named volumes for data persistence
- All services connected via a shared bridge network (vaultguard-net)
- Created .env.example documenting all required env vars: MySQL, Redis, MinIO, Meilisearch, JWT, service ports, KDF params, CORS, logging
- All ports configurable via env vars with sensible defaults
Key decisions / gotchas:
- Used env var defaults in docker-compose (${VAR:-default}) so the stack can start without a .env file for quick onboarding
- Redis uses alpine image for smaller footprint
- Meilisearch pinned to v1.6 for stability (not :latest)
- MinIO healthcheck uses `mc ready local` (official recommended check)
- .env already in .gitignore from INFRA-001; .env.example is safe to commit
- Docker runtime verification not possible on current machine (no Docker installed) — file syntax validated manually
Files created/modified:
- docker-compose.dev.yml (created)
- .env.example (created)
---
